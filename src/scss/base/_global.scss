:root {
  --gray: #{$gray};
  @each $color-name, $color in $colors-plate {
    --#{$color-name}: #{$color};

    @for $i from 1 through 4 {
      --#{$color-name}-#{$i *100}: #{shade($color, $i * 20)};
      --#{$color-name}-n-#{$i *100}: #{tint($color, $i * 20)};
    }
  }
  --transition-duration: 200ms;
}

@media (prefers-color-scheme: light) {
  :root {
    --primary: #{$primary-light};
    --body-bg: #{$light};
    --body-color: #{$dark};

    @for $i from 1 through 4 {
      --primary-#{$i *100}: #{shade($primary-light, $i * 20)};
      --primary-n-#{$i *100}: #{tint($primary-light, $i * 20)};
    }
  }
}

@media (prefers-color-scheme: dark) {
  :root {
    --primary: #{$primary-dark};
    --body-bg: #{$dark};
    --body-color: #{$light};

    @for $i from 1 through 4 {
      --primary-#{$i *100}: #{shade($primary-dark, $i * 20)};
      --primary-n-#{$i *100}: #{tint($primary-dark, $i * 20)};
    }
  }
}

html {
  font-size: 100%;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;
}

body {
  background: var(--body-bg);
  color: var(--body-color);
}

a:not(nav a) {
  color: var(--body-color);
  text-decoration: none;
  position: relative;
  //   text-shadow: 3px 0 var(--body-bg), 2px 0 var(--body-bg), 1px 0 var(--body-bg), -1px 0 var(--body-bg), -2px 0 var(--body-bg), -3px 0 var(--body-bg);

  &::after {
    content: "";
    position: absolute;
    display: block;
    width: 100%;
    height: 2px;
    bottom: -1px;
    left: 0;
    opacity: 0.5;
    background: var(--primary);
    transition: width var(--transition-duration) linear;
    z-index: map-get($z-index, "negative");
  }

  &:hover,
  &:focus {
    color: var(--primary);
    transition: color var(--transition-duration) linear;

    &::after {
      width: 0;
    }
  }

  &:active {
    color: var(--primary-300);
  }

  &:visited {
    color: var(--body-color);

    &:hover {
      color: var(--primary);
    }
  }
}
